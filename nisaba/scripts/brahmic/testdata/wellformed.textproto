# Copyright 2023 Nisaba Authors.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# proto-file: third_party/nisaba/interim/testing/testdata.proto
# proto-message: Rewrites

# Reject tests
rewrite {
  rule: "DEVA"
  input: "à¤•à¤¾à¥"
}
rewrite {
  rule: "MLYM"
  input: "àµà´¨"
}
rewrite {
  rule: "TAML"
  input: "à®‰à¯—à®¤à®¿à®¯à®•à¯à®•à¯à®´à¯"
}
rewrite {
  rule: "DEVA"
  input: "à¤"
}

# TODO: Allow initial position of Khanda Ta & Chillus.
rewrite {
  rule: "BENG"
  input: "à§"
}
rewrite {
  rule: "MLYM"
  input: "àµ»"
}

# Reject: Consonant + (Virama + Vowel Sign | Vowel Sign + Virama).
rewrite {
  rule: "DEVA"
  input: "à¤•à¥à¤¾"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¤¾à¥"
}

# Reject: Consonant + Virama, (|ZWS|ZWNJ|ZWJ) + Coda.
rewrite {
  rule: "DEVA"
  input: "à¤•à¥à¤"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¥â€‹à¤"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¥â€Œà¤"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¥â€à¤"
}

# Reject: Consonant + <VIRAMA, (ZWS|ZWNJ|ZWJ)>.
rewrite {
  rule: "DEVA"
  input: "à¤¨à¥â€‹"
}
rewrite {
  rule: "DEVA"
  input: "à¤¨à¥â€Œ"
}
rewrite {
  rule: "DEVA"
  input: "à¤¨à¥â€"
}

# Accept tests
# TODO: This currently passes but a standalone chillu does not
# (See above). Choose one or the other.
rewrite {
  rule: "MLYM"
  input: "àµ»àµ‡"
  output: "àµ»àµ‡"
}
rewrite {
  rule: "MLYM"
  input: "à´†àµ»à´¡àµ"
  output: "à´†àµ»à´¡àµ"
}
rewrite {
  rule: "MLYM"
  input: "à´¹àµˆà´«àµ»"
  output: "à´¹àµˆà´«àµ»"
}
rewrite {
  rule: "TAML"
  input: "à®¤à®®à®¿à®´à®°à¯à®•à®³à¯"
  output: "à®¤à®®à®¿à®´à®°à¯à®•à®³à¯"
}
rewrite {
  rule: "TAML"
  input: "à®Šà®¤à®¿à®¯à®•à¯à®•à¯à®´à¯"
  output: "à®Šà®¤à®¿à®¯à®•à¯à®•à¯à®´à¯"
}
rewrite {
  rule: "TAML"
  input: "à®ƒà®ªà¯‡à®•à¯à®Ÿà®°à®¿"
  output: "à®ƒà®ªà¯‡à®•à¯à®Ÿà®°à®¿"
}
rewrite {
  rule: "TAML"
  input: "à®ƒ"
  output: "à®ƒ"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¤¼à¥à¤²à¤¬"
  output: "à¤•à¤¼à¥à¤²à¤¬"
}
rewrite {
  rule: "DEVA"
  input: "à¤à¤°à¤¾à¤µà¤¤"
  output: "à¤à¤°à¤¾à¤µà¤¤"
}
rewrite {
  rule: "DEVA"
  input: "à¤¸à¤‚à¤¸à¥à¤¥à¤¾à¤“à¤‚"
  output: "à¤¸à¤‚à¤¸à¥à¤¥à¤¾à¤“à¤‚"
}
rewrite {
  rule: "DEVA"
  input: "à¤¬à¥‹à¤²à¤¨à¥‡"
  output: "à¤¬à¥‹à¤²à¤¨à¥‡"
}
rewrite {
  rule: "DEVA"
  input: "à¤µà¥à¤¹à¥‰à¤Ÿà¥à¤¸à¥²à¤ªà¤µà¤°"
  output: "à¤µà¥à¤¹à¥‰à¤Ÿà¥à¤¸à¥²à¤ªà¤µà¤°"
}
rewrite {
  rule: "DEVA"
  input: "à¤…à¤à¤¡à¥€"
  output: "à¤…à¤à¤¡à¥€"
}
rewrite {
  rule: "DEVA"
  input: "à¤¬à¤¾à¤à¤¬"
  output: "à¤¬à¤¾à¤à¤¬"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¤¾à¤à¤—à¥à¤°à¥‡à¤¸à¤šà¥‡"
  output: "à¤•à¤¾à¤à¤—à¥à¤°à¥‡à¤¸à¤šà¥‡"
}
rewrite {
  rule: "DEVA"
  input: "à¤†à¤¯à¥‹à¤œà¤¨"
  output: "à¤†à¤¯à¥‹à¤œà¤¨"
}
rewrite {
  rule: "DEVA"
  input: "à¤‘à¤¨à¤²à¤¾à¤‡à¤¨"
  output: "à¤‘à¤¨à¤²à¤¾à¤‡à¤¨"
}
rewrite {
  rule: "DEVA"
  input: "à¤¶à¤¾à¤“à¤®à¥€"
  output: "à¤¶à¤¾à¤“à¤®à¥€"
}
rewrite {
  rule: "DEVA"
  input: "à¤”à¤°"
  output: "à¤”à¤°"
}
rewrite {
  rule: "DEVA"
  input: "à¤ªà¥‰à¤œà¤¿à¤Ÿà¤¿à¤µ"
  output: "à¤ªà¥‰à¤œà¤¿à¤Ÿà¤¿à¤µ"
}
rewrite {
  rule: "DEVA"
  input: "à¤¦à¥Œà¤°à¤¾à¤¨"
  output: "à¤¦à¥Œà¤°à¤¾à¤¨"
}
rewrite {
  rule: "DEVA"
  input: "à¤à¤ª"
  output: "à¤à¤ª"
}
rewrite {
  rule: "DEVA"
  input: "à¤à¤¶à¥à¤µà¤°à¥à¤¯à¤¾"
  output: "à¤à¤¶à¥à¤µà¤°à¥à¤¯à¤¾"
}
rewrite {
  rule: "DEVA"
  input: "à¤‘à¤Ÿà¥‹à¤®à¥‹à¤¬à¤¾à¤‡à¤²"
  output: "à¤‘à¤Ÿà¥‹à¤®à¥‹à¤¬à¤¾à¤‡à¤²"
}
rewrite {
  rule: "DEVA"
  input: "à¤†à¤ˆà¤“à¤à¤¸"
  output: "à¤†à¤ˆà¤“à¤à¤¸"
}
rewrite {
  rule: "DEVA"
  input: "à¤”à¤¸à¤¤"
  output: "à¤”à¤¸à¤¤"
}
rewrite {
  rule: "DEVA"
  input: "à¤¬à¤à¤•à¥‡à¤šà¥à¤¯à¤¾"
  output: "à¤¬à¤à¤•à¥‡à¤šà¥à¤¯à¤¾"
}
rewrite {
  rule: "DEVA"
  input: "à¤†à¤à¤–à¥‡à¤‚"
  output: "à¤†à¤à¤–à¥‡à¤‚"
}
rewrite {
  rule: "DEVA"
  input: "à¤†à¤à¤•à¥‹à¤²à¥‰à¤œà¤¿à¤¸à¥à¤Ÿ"
  output: "à¤†à¤à¤•à¥‹à¤²à¥‰à¤œà¤¿à¤¸à¥à¤Ÿ"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¤¾à¤à¤ªà¥à¤²à¥‡à¤•à¥à¤¸"
  output: "à¤•à¤¾à¤à¤ªà¥à¤²à¥‡à¤•à¥à¤¸"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¥à¤š"
  output: "à¤•à¥à¤š"
}
rewrite {
  rule: "DEVA"
  input: "à¤•à¥à¤·"
  output: "à¤•à¥à¤·"
}
rewrite {
  rule: "DEVA"
  input: "à¤¤à¥à¤¤"
  output: "à¤¤à¥à¤¤"
}
rewrite {
  rule: "DEVA"
  input: "à¤¨à¥à¤¤"
  output: "à¤¨à¥à¤¤"
}
rewrite {
  rule: "DEVA"
  input: "à¤†à¤—à¤¼à¤¾ à¤†à¤—à¤¼à¤¾"
}
rewrite {
  rule: "DEVA"
  input: "à¤–à¤¼à¤¾à¤  à¤–à¤¼à¤¾à¤"
}

# Accept Avagraha
rewrite {
  rule: "DEVA"
  input: "à¤½"
  output: "à¤½"
}

# Words with Zero-Width-Non-Joiner.
rewrite {
  rule: "MLYM"
  input: "à´•àµ†à´œàµâ€Œà´°à´¿à´µà´¾àµ¾"
  output: "à´•àµ†à´œàµâ€Œà´°à´¿à´µà´¾àµ¾"
}
rewrite {
  rule: "MLYM"
  input: "à´¸à´¦àµâ€Œà´µà´¾à´°à´‚"
  output: "à´¸à´¦àµâ€Œà´µà´¾à´°à´‚"
}
rewrite {
  rule: "MLYM"
  input: "à´¸àµà´ªàµà´Ÿàµà´¨à´¿à´•àµ"
  output: "à´¸àµà´ªàµà´Ÿàµà´¨à´¿à´•àµ"
}
rewrite {
  rule: "MLYM"
  input: "à´…à´±à´¬àµâ€Œà´¬à´¸à´¾àµ¼"
  output: "à´…à´±à´¬àµâ€Œà´¬à´¸à´¾àµ¼"
}
rewrite {
  rule: "SINH"
  input: "à·à·Šâ€à¶»à·“à¶½à¶‚à¶šà·"
  output: "à·à·Šâ€à¶»à·“à¶½à¶‚à¶šà·"
}
rewrite {
  rule: "DEVA"
  input: "à¤¶à¥à¤°à¥€à¤®à¤¾à¤¨à¥â€Œà¤•à¥‹"
  output: "à¤¶à¥à¤°à¥€à¤®à¤¾à¤¨à¥â€Œà¤•à¥‹"
}

# Eyelash reph
rewrite {
  rule: "DEVA"
  input: "à¤¦à¤±à¥à¤¯à¤¾"
  output: "à¤¦à¤±à¥à¤¯à¤¾"
}
rewrite {
  rule: "BENG"
  input: "à¦…à§à¦¯à¦¾à¦¡"
  output: "à¦…à§à¦¯à¦¾à¦¡"
}
rewrite {
  rule: "BENG"
  input: "à¦à§à¦¯à¦¾à¦²à¦œà¦¿à¦“"
  output: "à¦à§à¦¯à¦¾à¦²à¦œà¦¿à¦“"
}

# Khanda Ta examples
rewrite {
  rule: "BENG"
  input: "à¦­à¦¬à¦¿à¦·à§à¦¯à§"
  output: "à¦­à¦¬à¦¿à¦·à§à¦¯à§"
}
rewrite {
  rule: "BENG"
  input: "à¦¤à§à¦¸à¦®"
  output: "à¦¤à§à¦¸à¦®"
}

# Independent Ã¦ vowel built with YA-phalaa
rewrite {
  rule: "KNDA"
  input: "à²†à³à²¯à²ªà³"
  output: "à²†à³à²¯à²ªà³"
}
rewrite {
  rule: "BENG"
  input: "à¦…à§à¦¯à¦¾à¦ªà§à¦²à¦¿à¦•à§‡à¦¶à¦¨"
  output: "à¦…à§à¦¯à¦¾à¦ªà§à¦²à¦¿à¦•à§‡à¦¶à¦¨"
}
rewrite {
  rule: "BENG"
  input: "à¦à§à¦¯à¦¾à¦ªà§à¦²à¦¿à¦•à§‡à¦¶à¦¨"
  output: "à¦à§à¦¯à¦¾à¦ªà§à¦²à¦¿à¦•à§‡à¦¶à¦¨"
}

# YA-phalaa/sign
rewrite {
  rule: "BENG"
  input: "à¦°â€à§à¦¯à¦¾à¦²"
  output: "à¦°â€à§à¦¯à¦¾à¦²"
}
rewrite {
  rule: "KNDA"
  input: "à²°â€à³à²¯à²‚à²¡à³"
  output: "à²°â€à³à²¯à²‚à²¡à³"
}

# TODO: ZWJ for YA-phalaa after KA should not be wellformed.
# rewrite {
#   rule: "BENG"
#   input: "à¦•â€à§à¦¯à¦¾à¦¶"
# }
# rewrite {
#   rule: "KNDA"
#   input: "à²•â€à³à²¯à²¾à²‚à²¡à³"
# }

# Accepts Chillus/KHANDA TA with a preceding VIRAMA:
rewrite {
  rule: "MLYM"
  input: "à´•àµ†à´¯àµàµ»"
  output: "à´•àµ†à´¯àµàµ»"
}
rewrite {
  rule: "MLYM"
  input: "à´¬à´¾à´¦àµàµ¼"
  output: "à´¬à´¾à´¦àµàµ¼"
}
rewrite {
  rule: "MLYM"
  input: "à´‡à´±à´¿à´±àµà´±à´¬àµàµ¾"
  output: "à´‡à´±à´¿à´±àµà´±à´¬àµàµ¾"
}
rewrite {
  rule: "BENG"
  input: "à¦¬à§‡à¦¨à§à¦¡à¦¨à¦°à§à§à¦¸"
  output: "à¦¬à§‡à¦¨à§à¦¡à¦¨à¦°à§à§à¦¸"
}
rewrite {
  rule: "BENG"
  input: "à¦²à§à§"
  output: "à¦²à§à§"
}

# Rejects adjacent Chillus
rewrite {
  rule: "MLYM"
  input: "à´•àµ†à´¯àµàµ»àµ»"
}

# Rejects VIRAMA+ZWNJ+KHANDA TA
# TODO: Investigate if the usage of ZWJs valid in here.
# That is, if <Consonant, VIRAMA, ZW(N)J, KHANDA TA> has a valid usage, please
# change wellformed acceptor to allow that specific usage. Corresponding change
# is needed in visual_norm as well.
rewrite {
  rule: "BENG"
  input: "à¦°à¦¾à¦‡à¦¨à¦«à§‡à¦²à§â€Œà§"
}

# Rejects KHANDA TA, VIRAMA
rewrite {
  rule: "BENG"
  input: "à§à§à¦²"
}

# Example: 7-à´¾à´‚ (meaning \'seventh\')
rewrite {
  rule: "MLYM"
  input: "à´¾à´‚"
  output: "à´¾à´‚"
}

# Example: 2020-àµ½ (meaning \'in 2020\')
rewrite {
  rule: "MLYM"
  input: "àµ½"
  output: "àµ½"
}

# sat-Beng specific <SIGN AA, NUKTA>
rewrite {
  rule: "BENG"
  input: "à¦—à¦¿à¦¦à¦°à¦¾à¦¼"
  output: "à¦—à¦¿à¦¦à¦°à¦¾à¦¼"
}

# Kokborok specific examples: For vowel letter aw
rewrite {
  rule: "BENG"
  input: "à¦…à§—à¦‡à¦•à§—"
  output: "à¦…à§—à¦‡à¦•à§—"
}

# For vowel letter ua
rewrite {
  rule: "BENG"
  input: "à¦•à¦®à§à¦ªà¦¿à¦‰à¦¾à¦°à§‡"
  output: "à¦•à¦®à§à¦ªà¦¿à¦‰à¦¾à¦°à§‡"
}

# Santali specific examples: à¦†à§— for á±Ÿá±¹
rewrite {
  rule: "BENG"
  input: "à¦†à§—à¦¡à§€"
  output: "à¦†à§—à¦¡à§€"
}
rewrite {
  rule: "BENG"
  input: "à¦¤à¦¾à¦¹à§—à¦¨"
  output: "à¦¤à¦¾à¦¹à§—à¦¨"
}
rewrite {
  rule: "BENG"
  input: "à¦•à§—à¦²"
  output: "à¦•à§—à¦²"
}

# à¦…à¦ for á±šá±¸
rewrite {
  rule: "BENG"
  input: "à¦®à§—à¦à¦à§€"
  output: "à¦®à§—à¦à¦à§€"
}
rewrite {
  rule: "BENG"
  input: "à¦®à§—à¦à¦°à§à¦¡à§€"
  output: "à¦®à§—à¦à¦°à§à¦¡à§€"
}
rewrite {
  rule: "BENG"
  input: "à¦®à§—à¦à¦‡à¦œà¦¿à¦‰à¦‡"
  output: "à¦®à§—à¦à¦‡à¦œà¦¿à¦‰à¦‡"
}
rewrite {
  rule: "BENG"
  input: "à¦¨à¦¿à¦ƒà¦¹à§—à¦à¦¤"
  output: "à¦¨à¦¿à¦ƒà¦¹à§—à¦à¦¤"
}

# -------------------------- Meetei Mayek (Manipuri) --------------------------
rewrite {
  rule: "MTEI"
  input: "ê¯†"
  output: "ê¯†"
}
rewrite {
  rule: "MTEI"
  input: "ê¯‘ê¯©ê¯…"
  output: "ê¯‘ê¯©ê¯…"
}
rewrite {
  rule: "MTEI"
  input: "ê¯€ê¯£ê¯›"
  output: "ê¯€ê¯£ê¯›"
}
rewrite {
  rule: "MTEI"
  input: "ê¯ê¯"
  output: "ê¯ê¯"
}
rewrite {
  rule: "MTEI"
  input: "ê¯‘ê¯‡ê¯¤ê¯Œê¯¥"
  output: "ê¯‘ê¯‡ê¯¤ê¯Œê¯¥"
}
rewrite {
  rule: "MTEI"
  input: "ê¯†ê¯¤ê¯Ÿ"
  output: "ê¯†ê¯¤ê¯Ÿ"
}
rewrite {
  rule: "MTEI"
  input: "ê¯’ê¯­ê¯‚ê¯¥ê¯"
  output: "ê¯’ê¯­ê¯‚ê¯¥ê¯"
}
rewrite {
  rule: "MTEI"
  input: "ê¯€ê¯ê¯£ê¯¢"
  output: "ê¯€ê¯ê¯£ê¯¢"
}
rewrite {
  rule: "MTEI"
  input: "ê¯€ê¯¨ê¯ê¯¨ê¯ê¯‚ê¯©"
  output: "ê¯€ê¯¨ê¯ê¯¨ê¯ê¯‚ê¯©"
}
rewrite {
  rule: "MTEI"
  input: "ê¯€ê¯¦ê¯‡ê¯¨ê¯€ê¯¤"
  output: "ê¯€ê¯¦ê¯‡ê¯¨ê¯€ê¯¤"
}
rewrite {
  rule: "MTEI"
  input: "ê¯€ê¯¦ê¯‡ê¯¦ê¯€ê¯¤"
  output: "ê¯€ê¯¦ê¯‡ê¯¦ê¯€ê¯¤"
}
rewrite {
  rule: "MTEI"
  input: "ê¯€ê¯£ê¯ê¯‚ê¯¥"
  output: "ê¯€ê¯£ê¯ê¯‚ê¯¥"
}
rewrite {
  rule: "MTEI"
  input: "ê¯ê¯¤ê¯¡"
  output: "ê¯ê¯¤ê¯¡"
}
rewrite {
  rule: "MTEI"
  input: "ê¯‚ê¯©ê¯ê¯¥ê¯•ê¯¤"
  output: "ê¯‚ê¯©ê¯ê¯¥ê¯•ê¯¤"
}
rewrite {
  rule: "MTEI"
  input: "ê¯ƒê¯Œê¯¥ê¯¡ê¯‡ê¯£ê¯Ÿ"
  output: "ê¯ƒê¯Œê¯¥ê¯¡ê¯‡ê¯£ê¯Ÿ"
}
rewrite {
  rule: "MTEI"
  input: "ê¯ƒê¯¦ê¯Šê¯¤"
  output: "ê¯ƒê¯¦ê¯Šê¯¤"
}
rewrite {
  rule: "MTEI"
  input: "ê¯„ê¯¨ê¯—ê¯¤ê¯…ê¯¥"
  output: "ê¯„ê¯¨ê¯—ê¯¤ê¯…ê¯¥"
}
rewrite {
  rule: "MTEI"
  input: "ê¯…ê¯¨ê¯ê¯¤ê¯ê¯¤ê¯—ê¯¥ê¯›"
  output: "ê¯…ê¯¨ê¯ê¯¤ê¯ê¯¤ê¯—ê¯¥ê¯›"
}
rewrite {
  rule: "MTEI"
  input: "ê¯†ê¯ê¯„ê¯­ê¯”ê¯¥"
  output: "ê¯†ê¯ê¯„ê¯­ê¯”ê¯¥"
}
rewrite {
  rule: "MTEI"
  input: "ê¯‡ê¯¨ê¯œê¯ê¯¤ê¯„ê¯ê¯•ê¯¤"
  output: "ê¯‡ê¯¨ê¯œê¯ê¯¤ê¯„ê¯ê¯•ê¯¤"
}
rewrite {
  rule: "MTEI"
  input: "ê¯Œê¯¥ê¯¢ê¯‰ê¯ª"
  output: "ê¯Œê¯¥ê¯¢ê¯‰ê¯ª"
}
rewrite {
  rule: "MTEI"
  input: "ê¯ê¯©ê¯…ê¯§"
  output: "ê¯ê¯©ê¯…ê¯§"
}
rewrite {
  rule: "MTEI"
  input: "ê¯ê¯ê¯¤ê¯¡ê¯ê¯¥"
  output: "ê¯ê¯ê¯¤ê¯¡ê¯ê¯¥"
}
rewrite {
  rule: "MTEI"
  input: "ê¯‘ê¯—ê¯¨ê¯”ê¯’ê¯¨ê¯‚ê¯¥ê¯•"
  output: "ê¯‘ê¯—ê¯¨ê¯”ê¯’ê¯¨ê¯‚ê¯¥ê¯•"
}
rewrite {
  rule: "MTEI"
  input: "ê¯’ê¯¨ê¯‚ê¯¥ê¯•"
  output: "ê¯’ê¯¨ê¯‚ê¯¥ê¯•"
}
rewrite {
  rule: "MTEI"
  input: "ê¯–ê¯¥ê¯¢ê¯ê¯œ"
  output: "ê¯–ê¯¥ê¯¢ê¯ê¯œ"
}

# Reject: Of all the independent vowels, matras can only be applied to
# LETTER ATIYA.
# Reject: <LETTER I, VOWEL SIGN ANAP>.
rewrite {
  rule: "MTEI"
  input: "ê¯ê¯¥"
}

# Reject: <LETTER UN, VOWEL SIGN YENAP>.
rewrite {
  rule: "MTEI"
  input: "ê¯ê¯¦"
}

# Reject: Consonant + (Virama + Vowel Sign | Vowel Sign + Virama).
# Reject: <LETTER KHOU, APUN IYEK, VOWEL SIGN UNAP>.
rewrite {
  rule: "MTEI"
  input: "ê¯ˆê¯­ê¯¨"
}

# Reject: <LETTER KHOU, VOWEL SIGN UNAP, APUN IYEK>.
rewrite {
  rule: "MTEI"
  input: "ê¯ˆê¯¨ê¯­"
}

# Reject: Lonsum can\'t start a word.
rewrite {
  rule: "MTEI"
  input: "ê¯Ÿ"
}
rewrite {
  rule: "MTEI"
  input: "ê¯¢"
}

# Reject: <VOWEL SIGN ONAP, LETTER LAI, MEETEI MAYEK VOWEL SIGN UNAP>.
rewrite {
  rule: "MTEI"
  input: "ê¯£ê¯‚ê¯¨"
}

# --------------------- Baybain (Tagalog) ---------------------
rewrite {
  rule: "TGLG"
  input: "áœ"
  output: "áœ"
}
rewrite {
  rule: "TGLG"
  input: "áœ"
  output: "áœ"
}
rewrite {
  rule: "TGLG"
  input: "áœŠáœŠ"
  output: "áœŠáœŠ"
}
rewrite {
  rule: "TGLG"
  input: "áœƒáœŠáœ†áœ€áœˆáœ”"
  output: "áœƒáœŠáœ†áœ€áœˆáœ”"
}
rewrite {
  rule: "TGLG"
  input: "áœ‹áœƒáœƒáœáœ’áœƒáœáœˆáœ”"
  output: "áœ‹áœƒáœƒáœáœ’áœƒáœáœˆáœ”"
}

# Reject: Word-initial vowel signs: <VOWEL SIGN I, LETTER DA>.
rewrite {
  rule: "TGLG"
  input: "áœ’áœ‡"
}

# Reject: Virama on a vowel.
rewrite {
  rule: "TGLG"
  input: "áœ‚áœ”"
}

# --------------------- Lontara (Buginese) ---------------------
rewrite {
  rule: "BUGI"
  input: "á¨†á¨€á¨˜á¨‹á¨•á¨—"
  output: "á¨†á¨€á¨˜á¨‹á¨•á¨—"
}
rewrite {
  rule: "BUGI"
  input: "á¨”á¨•á¨˜á¨“"
  output: "á¨”á¨•á¨˜á¨“"
}
rewrite {
  rule: "BUGI"
  input: "á¨“á¨›á¨ˆá¨˜"
  output: "á¨“á¨›á¨ˆá¨˜"
}
rewrite {
  rule: "BUGI"
  input: "á¨‘á¨—á¨”á¨—á¨ˆá¨—á¨Šá¨á¨Šá¨•á¨™á¨ˆá¨šá¨”"
  output: "á¨‘á¨—á¨”á¨—á¨ˆá¨—á¨Šá¨á¨Šá¨•á¨™á¨ˆá¨šá¨”"
}

# Reject: Consecutive dependent vowels.
rewrite {
  rule: "BUGI"
  input: "á¨•á¨á¨™á¨™"
}

# --------------------- Thaana ---------------------
rewrite {
  rule: "THAA"
  input: "Ş‰ŞªŞ™Ş¦Ş‡Ş°Ş‰Ş¦Ş‹Şª"
  output: "Ş‰ŞªŞ™Ş¦Ş‡Ş°Ş‰Ş¦Ş‹Şª"
}
rewrite {
  rule: "THAA"
  input: "ŞŞ®ŞŒŞªŞŞ¦Ş‡Ş¨"
  output: "ŞŞ®ŞŒŞªŞŞ¦Ş‡Ş¨"
}
rewrite {
  rule: "THAA"
  input: "Ş†Ş¦Ş‚Ş‘Şª"
  output: "Ş†Ş¦Ş‚Ş‘Şª"
}

# The following two examples provide two different ways to spell
# `kasÊ°mÄ«rugÄrá¸an`: the first example is the correct way to spell the last
# consonant cluster with <RAA, SUKUN, DAVIYANI> with intermediate <SUKUN>,
# the second example (real example from the web) has <RAA, DAVIYANI> combination
# and should fail.
rewrite {
  rule: "THAA"
  input: "Ş†Ş¦ŞŞ°Ş‰Ş©ŞƒŞªŞŞ§ŞƒŞ°Ş‘Ş¦Ş‚Ş°"
  output: "Ş†Ş¦ŞŞ°Ş‰Ş©ŞƒŞªŞŞ§ŞƒŞ°Ş‘Ş¦Ş‚Ş°"
}
rewrite {
  rule: "THAA"
  input: "Ş†Ş¦ŞŞ°Ş‰Ş©ŞƒŞªŞŞ§ŞƒŞ‘Ş¦Ş‚Ş°"
}

# Reject: Spelling of Jefferson without a <SUKUN> between <RAA> and <SEENU>,
# `Washington` without a <SUKUN> between <GAAFU> and <TAVIYANI>.
rewrite {
  rule: "THAA"
  input: "Ş–Ş¬ŞŠŞ¦ŞƒŞŞ¦Ş‚Ş°"
}
rewrite {
  rule: "THAA"
  input: "ŞˆŞ®ŞŞ¨Ş‚Ş°ŞŞ“Ş¦Ş‚Ş°"
}
rewrite {
  rule: "THAA"
  input: "Ş‡Ş¬ŞŞ¬ŞŞ°Ş’Ş¬Ş‚Ş°Ş‘Ş¦Şƒ"
}

# Reject: `Minister`, `September`, `November` and `Alexander` without <SUKUN>
# after final <RAA>.
rewrite {
  rule: "THAA"
  input: "ŞŞ¬Ş•Ş°Ş“Ş¬Ş‰Ş°Ş„Ş¦Şƒ"
}
rewrite {
  rule: "THAA"
  input: "Ş‚Ş®ŞˆŞ¬Ş‰Ş°Ş„Ş¦Şƒ"
}
rewrite {
  rule: "THAA"
  input: "Ş‰Ş¨Ş‚Ş¨ŞŞ°Ş“Ş¦Şƒ"
}

# Reject: Sequence of vowel signs (double <ABAFILI>).
rewrite {
  rule: "THAA"
  input: "ŞˆŞ¦ŞƒŞ¦Ş¦Ş†Ş¦ŞŞ°"
}

# Reject: Sequence of vowel signs + SUKUN: <ZAVIYANI, 2 EEBEEFILI, SUKUN>.
rewrite {
  rule: "THAA"
  input: "Ş’Ş©Ş­Ş°"
}

# Reject: <ZAVIYANI, EEBEEFILI, SUKUN>
rewrite {
  rule: "THAA"
  input: "Ş’Ş©Ş°"
}

# Reject: Stray SUKUN (<SUKUN, KAAFU, OBOFILI>).
rewrite {
  rule: "THAA"
  input: "Ş°Ş†Ş®"
}

# Reject: Multiple SUKUNs (<MEEMU, IBIFILI, SUKUN, SUKUN>).
rewrite {
  rule: "THAA"
  input: "Ş‰Ş¨Ş°Ş°"
}

# Reject: Multiple SUKUNs (<MEEMU, SUKUN, SUKUN>).
rewrite {
  rule: "THAA"
  input: " Ş‰Ş°Ş°"
}

# Reject: ALIFU without combining marks (<ALIFU, LHAVIYANI, OBOFILI>).
rewrite {
  rule: "THAA"
  input: "Ş‡Ş…Ş®"
}

# Reject: ALIFU without combining marks (<LHAVIYANI, OBOFILI, ALIFU>).
rewrite {
  rule: "THAA"
  input: "Ş…Ş®Ş‡"
}

# Reject: Synthetic: Vowel sign starting a word: <UBUFILI, YAA>.
rewrite {
  rule: "THAA"
  input: "Ş”"
}

# TODO: Not clear whether we should accept or reject the abbreviations.
# Following is a synthetic example "Mr" (with SUKUNs), the spelling without
# SUKUNs (that we reject) is also frequent.
rewrite {
  rule: "THAA"
  input: "Ş‰Ş°ŞƒŞ°"
  output: "Ş‰Ş°ŞƒŞ°"
}
rewrite {
  rule: "THAA"
  input: "Ş‰Şƒ"
}

# --------------------- Limbu ---------------------
rewrite {
  rule: "LIMB"
  input: "á¤œá¤§á¤°á¤á¤©á¤ á¤±"
  output: "á¤œá¤§á¤°á¤á¤©á¤ á¤±"
}
rewrite {
  rule: "LIMB"
  input: "á¤œá¤§á¤°á¤á¤£á¤ºá¤¸á¤—á¤§"
  output: "á¤œá¤§á¤°á¤á¤£á¤ºá¤¸á¤—á¤§"
}
rewrite {
  rule: "LIMB"
  input: "á¤•á¤§á¤›á¤¢á¤ºá¤´"
  output: "á¤•á¤§á¤›á¤¢á¤ºá¤´"
}
rewrite {
  rule: "LIMB"
  input: "á¤”á¤á¤ á¤ºá¤¸á¤—á¤§"
  output: "á¤”á¤á¤ á¤ºá¤¸á¤—á¤§"
}
rewrite {
  rule: "LIMB"
  input: "á¤€á¤¡á¤ºá¤µá¤”á¤ "
  output: "á¤€á¤¡á¤ºá¤µá¤”á¤ "
}
rewrite {
  rule: "LIMB"
  input: "á¤†á¤€á¤¡á¤ºá¤³á¤á¤ á¤±á¤’á¤ "
  output: "á¤†á¤€á¤¡á¤ºá¤³á¤á¤ á¤±á¤’á¤ "
}
rewrite {
  rule: "LIMB"
  input: "á¤”á¤¡á¤°á¤‘á¤ºá¤¶á¤’á¤ "
  output: "á¤”á¤¡á¤°á¤‘á¤ºá¤¶á¤’á¤ "
}
rewrite {
  rule: "LIMB"
  input: "á¤€á¤ á¤á¤ºá¤³á¤‹á¤¢á¤¶á¤”á¤¡á¤¸á¤—á¤§"
  output: "á¤€á¤ á¤á¤ºá¤³á¤‹á¤¢á¤¶á¤”á¤¡á¤¸á¤—á¤§"
}
rewrite {
  rule: "LIMB"
  input: "á¤€á¤ á¤±"
  output: "á¤€á¤ á¤±"
}

# Accept: <MUKPHRENG> following a vowel sign.
rewrite {
  rule: "LIMB"
  input: "á¤á¤§á¤”á¤ á¤¹á¤°á¤‚á¤¡á¤´á¤á¤¢"
  output: "á¤á¤§á¤”á¤ á¤¹á¤°á¤‚á¤¡á¤´á¤á¤¢"
}

# Reject: Double vowel signs (<VOWEL SIGN OO>).
rewrite {
  rule: "LIMB"
  input: "á¤”á¤§á¤á¤¡á¤›á¤›á¤¡á¤–á¤¥á¤¥"
}
rewrite {
  rule: "LIMB"
  input: "á¤œá¤¡á¤¶á¤”á¤¥á¤¥"
}
rewrite {
  rule: "LIMB"
  input: "á¤á¤œá¤›á¤¥á¤¥á¤\""
}
rewrite {
  rule: "LIMB"
  input: "á¤á¤¢á¤›á¤»á¤›á¤ á¤ á¤º"
}
rewrite {
  rule: "LIMB"
  input: "á¤’á¤§á¤’á¤¡á¤—á¤¥á¤¥á¤"
}

# Reject: Initial subjoined consonant (<SUBJOINED LETTER RA>).
rewrite {
  rule: "LIMB"
  input: "á¤ªá¤€á¤ á¤¸á¤—"
}

# Reject: Vowel followed by subjoined consonant (<SUBJOINED LETTER RA>).
rewrite {
  rule: "LIMB"
  input: "á¤€á¤ á¤ª"
}

# Reject: Small (final) consonant word-initially (<SMALL LETTER KA>).
rewrite {
  rule: "LIMB"
  input: "á¤°á¤"
}

# Reject: Double word-final small consonants (<SMALL LETTER RA>).
rewrite {
  rule: "LIMB"
  input: "á¤„á¤·á¤·"
}

# Reject: Double <KEMPHRENG>s.
rewrite {
  rule: "LIMB"
  input: "á¤†á¤¥á¤ºá¤ºá¤°á¤›á¤§"
}

# Reject: Initial <KEMPHRENG>.
rewrite {
  rule: "LIMB"
  input: " á¤ºá¤„"
}

# Reject: Initial <MUKPHRENG>.
rewrite {
  rule: "LIMB"
  input: " á¤¹á¤Š"
}

# Reject: <MA, MUKPHRENG, KEMPHRENG>
# TODO: Check if this is legal.
rewrite {
  rule: "LIMB"
  input: "á¤”á¤¹á¤º"
}

# Reject: <KHA, SIGN E, NA, MUKPHRENG, SIGN E>
# TODO: Check if vowel signs can apply to <MUKPHRENG>.
rewrite {
  rule: "LIMB"
  input: "á¤‚á¤§á¤á¤¹á¤§"
}

# --------------------- Lepcha ---------------------
# From: https://scriptsource.org/cms/scripts/page.php?item_id=entry_detail&uid=t5r9zasayh
rewrite {
  rule: "LEPC"
  input: "á°Šá°á°œ"
  output: "á°Šá°á°œ"
}
rewrite {
  rule: "LEPC"
  input: "á°Šá°Œá° "
  output: "á°Šá°Œá° "
}
rewrite {
  rule: "LEPC"
  input: "á°á°šá°á°œ"
  output: "á°á°šá°á°œ"
}
rewrite {
  rule: "LEPC"
  input: "á°£á°•á°›á°›"
  output: "á°£á°•á°›á°›"
}
rewrite {
  rule: "LEPC"
  input: "á°Šá° á°•"
  output: "á°Šá° á°•"
}
rewrite {
  rule: "LEPC"
  input: "á°•á°šá°ƒ"
  output: "á°•á°šá°ƒ"
}
rewrite {
  rule: "LEPC"
  input: "á°€á°šá° "
  output: "á°€á°šá° "
}

# Reject: Initial vowel sign (<SIGN OO>).
rewrite {
  rule: "LEPC"
  input: "á°©á°š"
}

# Reject: Initial final consonant (<CONSONANT SIGN R>).
rewrite {
  rule: "LEPC"
  input: " á°²á°œ"
}

# Reject: Double vowel signs (<SIGN O, SIGN E>, <SIGN I, SIGN E>).
rewrite {
  rule: "LEPC"
  input: "á°€á°ƒá°¨á°¬"
}
rewrite {
  rule: "LEPC"
  input: "á°€á°§á°¬á°"
}

# Reject: Subjoined consonant: <SUBJOINED YA, SUBJOINED RA>,
# but the inverse is legal.
rewrite {
  rule: "LEPC"
  input: "á°œá°¤á°¥"
}
rewrite {
  rule: "LEPC"
  input: "á°œá°¥á°¤"
  output: "á°œá°¥á°¤"
}

# Reject: Uncontrolled nukta after consonant <LETTER TA, NUKTA>,
# <LETTER NGA, NUKTA>.
rewrite {
  rule: "LEPC"
  input: "á°€á°ªá°Šá°Šá°·á°¬"
}
rewrite {
  rule: "LEPC"
  input: "á°ƒá°€á°¨á°…á°·á°¨"
}
rewrite {
  rule: "LEPC"
  input: "á°ƒá°£á°á°·á°¬"
}
rewrite {
  rule: "LEPC"
  input: "á°ˆá°£á°á°‡á°·á°§"
}

# Reject: Nukta after <LETTER A>.
rewrite {
  rule: "LEPC"
  input: "á°‡á°£á°·á°§"
}

# Reject: Double consonant signs (<SIGN K, SIGN K>, <SIGN N, SIGN R>).
rewrite {
  rule: "LEPC"
  input: "á°€á°§á°Œá°ªá°­á°­"
}
rewrite {
  rule: "LEPC"
  input: "á°ƒá°ªá°°á°²á°œá°¬á°°"
}

# Reject: <RAN> can only appear after the syllable-final consonant.
rewrite {
  rule: "LEPC"
  input: "á°€á°¶á°›á°¬á°á°³á°¬á°¢"
}
rewrite {
  rule: "LEPC"
  input: "á°€á°á°¶á°¬á°˜á°ªá°¶"
}

# --------------------- Syloti Nagri ---------------------
rewrite {
  rule: "SYLO"
  input: "ê ê £ê –ê £ê ˜"
  output: "ê ê £ê –ê £ê ˜"
}
rewrite {
  rule: "SYLO"
  input: "ê ¢ê ‡ê †ê ‡ê Ÿ"
  output: "ê ¢ê ‡ê †ê ‡ê Ÿ"
}
rewrite {
  rule: "SYLO"
  input: "ê ¡ê ›"
  output: "ê ¡ê ›"
}
rewrite {
  rule: "SYLO"
  input: "ê ¢ê ‡ê †ê ‡ê Ÿê ê ¤ê ˜ê ê ¦"
  output: "ê ¢ê ‡ê †ê ‡ê Ÿê ê ¤ê ˜ê ê ¦"
}
rewrite {
  rule: "SYLO"
  input: "ê ›ê ƒê ‡ê †ê ‡ê £"
  output: "ê ›ê ƒê ‡ê †ê ‡ê £"
}
rewrite {
  rule: "SYLO"
  input: "ê ê £ê ê ”ê ê £ê "
  output: "ê ê £ê ê ”ê ê £ê "
}
rewrite {
  rule: "SYLO"
  input: "ê €ê ê †ê ê £ê Ÿê £ê ê ¥ê €ê Ÿê £ê ê ‡ê ¥ê "
  output: "ê €ê ê †ê ê £ê Ÿê £ê ê ¥ê €ê Ÿê £ê ê ‡ê ¥ê "
}
rewrite {
  rule: "SYLO"
  input: "ê €ê ê ê £ê "
  output: "ê €ê ê ê £ê "
}

# Reject: Initial vowel sign.
rewrite {
  rule: "SYLO"
  input: "ê £ê €"
}

# Reject: Duplicate vowel signs (<SIGN OO>, <SIGN E>).
rewrite {
  rule: "SYLO"
  input: "ê ¢ê §ê ¦"
}

# Reject: Hasanta on a vowel.
rewrite {
  rule: "SYLO"
  input: "ê ƒê †"
}

# Accept: <VOWEL SIGN U, SIGN DVISVARA>
rewrite {
  rule: "SYLO"
  input: "ê ‘ê ¥ê ‚"
  output: "ê ‘ê ¥ê ‚"
}

# Reject: <VOWEL SIGN I, SIGN DVISVARA>
rewrite {
  rule: "SYLO"
  input: "ê Šê ¤ ê ‚"
}

# Accept: <LETTER U, SIGN DVISVARA>
rewrite {
  rule: "SYLO"
  input: "ê  ê ƒê ‚"
  output: "ê  ê ƒê ‚"
}

# Reject: <LETTER I, SIGN DVISVARA>
rewrite {
  rule: "SYLO"
  input: "ê Šê ê ‚"
}

# --------------------- Tirhuta ---------------------
rewrite {
  rule: "TIRH"
  input: "ğ‘’¬ğ‘“‚ğ‘’©"
  output: "ğ‘’¬ğ‘“‚ğ‘’©"
}
rewrite {
  rule: "TIRH"
  input: "ğ‘’“ğ‘“‚ğ‘’ğ‘“‚ğ‘’­"
  output: "ğ‘’“ğ‘“‚ğ‘’ğ‘“‚ğ‘’­"
}
rewrite {
  rule: "TIRH"
  input: "ğ‘’­ğ‘“‚ğ‘’ğ‘“‚ğ‘’­"
  output: "ğ‘’­ğ‘“‚ğ‘’ğ‘“‚ğ‘’­"
}

# Accept ANJI.
rewrite {
  rule: "TIRH"
  input: "ğ‘’€"
  output: "ğ‘’€"
}

# Reject: Consonant + (Virama + Vowel Sign | Vowel Sign + Virama).
rewrite {
  rule: "TIRH"
  input: "ğ‘’«ğ‘“‚ğ‘’°"
}
rewrite {
  rule: "TIRH"
  input: "ğ‘’«ğ‘’° ğ‘“‚"
}

# Reject: Initial vowel signs, double vowel signs.
rewrite {
  rule: "TIRH"
  input: "ğ‘’·ğ‘’’"
}
rewrite {
  rule: "TIRH"
  input: "ğ‘’£ğ‘’º ğ‘’¼"
}

# Reject: Vowel + virama.
rewrite {
  rule: "TIRH"
  input: "ğ‘’…ğ‘“‚"
}

# Reject: (|ZWS|ZWNJ|ZWJ) + coda.
rewrite {
  rule: "TIRH"
  input: " ğ‘“„"
}
rewrite {
  rule: "TIRH"
  input: " ğ‘“€"
}

# --------------------- Takri ---------------------
rewrite {
  rule: "TAKR"
  input: "ğ‘š€ğ‘š«ğ‘šŒğ‘š¤ğ‘š²ğ‘š‘ğ‘š·"
  output: "ğ‘š€ğ‘š«ğ‘šŒğ‘š¤ğ‘š²ğ‘š‘ğ‘š·"
}

# Reject: Consonant + (Virama + Vowel Sign | Vowel Sign + Virama).
rewrite {
  rule: "TAKR"
  input: "ğ‘š”ğ‘š¶ ğ‘š³"
}
rewrite {
  rule: "TAKR"
  input: "ğ‘š™ğ‘š¯ğ‘š¶"
}

# Reject: Initial vowel signs, double vowel signs.
rewrite {
  rule: "TAKR"
  input: "ğ‘š­ğ‘š“"
}
rewrite {
  rule: "TAKR"
  input: "ğ‘š£ğ‘š´ğ‘š²"
}

# Reject: Vowel + virama.
rewrite {
  rule: "TAKR"
  input: "ğ‘šˆğ‘š¶"
}

# Reject: (|ZWS|ZWNJ|ZWJ) + coda.
rewrite {
  rule: "TAKR"
  input: " ğ‘š«"
}
rewrite {
  rule: "TAKR"
  input: "  ğ‘š«"
}
